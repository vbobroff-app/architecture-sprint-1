# Задание1. Репозиторий Mesto
Репозиторий предсталяет собой wеb-приложение с функциональностями каталога фотографий (загрузка, редактиварование, удаление, учет симпатий) и профилем пользователя.

Приложение имеет следующие системные часи:
* FrontEnd - React app, JavaScript, REST
* BackЕnd - Node.js, Expess, REST 
* MongoDB
  
Задание предусматривает раделение части FrontEnd (монолит) на несколько микрофронтедов.
 
## Уровень1. Проектирование
В рамках данного задания необходимо выбрать фреймворк для создания микрофронтендов и описать решение.
Поскльку приложение с микрофронтендами — это композиция функций, которые принадлежат независимым командам, но выполнены в едином стеке (React.js),
для реализации выбран Webpack Module Federation. 
Module Federation объединяет разные модули приложения в единое целое и позволяет им использовать общий код, разные команды могут получить доступ к коду друг друга до развёртывания.
Module Federation использует функцию lazy loading. Она позволяет приложению загружать фрагменты кода по требованию. Это сокращает время первоначальной загрузки и помогает оптимизировать использование ресурсов.
Module Federation позволяет микрофронтендам динамически обмениваться зависимостями во время выполнени, что позволяет использовать разные версии библиотек без конфликтов. 
Такиа образом, основаниями для выбора являются:
* Независимость разработки и развёртывания микрофронтендов
* Оптимизация использования ресурсов за счёт ленивой загрузки модулей
* Возможность использовать разные версии библиотек без конфликтов.

Альтернативой является применение Single SPА, однако учитывая возможность переноса действующего кода (для реализации необходимо просто перенести готоый код в разные модули), применение Webpack Module Federation более оправдано.

## Уровень 2. Планирование изменений
В соответствии с методикой DDD (Предметно-ориентированное проектирование) можно выделить сдедующие сущности и службы предметной области:
* Аутентификация (Signin, SingnUp, Signout)
* Профиль пользователя
* Каталог фотографий

На основании этого, необходимо реализовать три микрофроненда и один объединяющий проект, который будет являться точкой входа и управлять маршрутизацией **auth, profile, cards, host** . 

Каждый проект будет содержать следующие директории:

* Папка src - основная папка с исходным кодом
* Файл packe.json - с зависимостями и подключаемыми библиотеками
* Файл webpack.congig - файл конфигурации webpack с параметрами сборки и путми маршрутизации 
* Файл index.js, который является точкой входа , стандартный для приложений React
* Компонент App.js (для объединяющего проекта), основной компонент, опредяющий структуру приложения
* Подпапка components - папка для React-копонентов
* Подпапка styles - папка со стилям, .css- файлами
* Подпапка  utils - Api запросов
* Подпапка images - папка с иконками и изображениями

Проект **auth** - аутентификация: вход, выхол, регистрация пользователя.

```sh
/auth
  /src
    /components
      Login.js               // Компонент входа пользователя
      Register.js            // Компонент регистрации пользователя
    /styles                  // Стили 
      /auth-form
        auth-form.css
      /login
        login.css
      /register              
        register.css           
    /utils                   // Утилиты для аутентификации
      auth.js                
    index.js                 // Точка входа микрофронтенда
  package.json               // Зависимости и скрипты микрофронтенда
  webpack.config.js          // Конфигурация сборки
```

Проект **profile** - профиль пользователя: получение данных, загрузка, редактирование.

```sh
/profile
  /src
    /components
      Profile.js             // Компонент отрисовки профиля
      EditAvatarPopup.js     // Компонент загрузки аватара
      EditProfilePopup.js    // Компонент редактирования профиля
    /styles                  // Стили 
      /page
        page.css
      /popup
        popup.css
      /profile              
        profile.css
    /images                  // Иконки
      add-icon.svg
      edit-icon.svg      
    /utils                   // Утилиты api профиля пользователя
      api.js                
    index.js                 // Точка входа микрофронтенда
  package.json               // Зависимости и скрипты микрофронтенда
  webpack.config.js          // Конфигурация сборки
```
Особенность выделения микрофронта profile заключается в разделении функкционала объекта Api, в котором остаются лишь методы обработки профиля:

```sh
class Api {
  constructor({ address, token, groupId }) 
  ...
  getUserInfo() 
  ...
  setUserInfo({ name, about }) 
  ...
  setUserAvatar({ avatar }) 
  ...
}
```
Также в выделении в компонент Profile части секции компонента Main.js, относящейся к отрисовке профиля пользователя.

Проект **cards** - каталог фотографий: получение данных, загрузка, редактирование.

```sh
/cards
  /src
    /components
      Main.js                // Компонент каталог фотографий
      Card.js                // Компонент карточки фотографии
      ImagePopup.js          // Компонент загрузки фотографии
      PopupWithForm.js       // Компонент редактирования котрочки
    /styles                  // Стили 
      /page
        page.css
      /card
        card.css
      /places              
        places.css
    /images                  // Иконки     
    /utils                   // Утилиты api карточек фотографий
      api.js                
    index.js                 // Точка входа микрофронтенда
  package.json               // Зависимости и скрипты микрофронтенда
  webpack.config.js          // Конфигурация сборки
```

Особенность выделения микрофронта profile заключается в разделении функкционала объекта Api, в котором остаются лишь методы обработки профиля:

```sh
class Api {
  constructor({ address, token, groupId }) 
  ...
  addCard({ name, link }) 
  ...
  removeCard(cardID)
  ...
   changeLikeCardStatus(cardID, like)
  ...
}
```
Также в компоненте Main.js необходимо оставить секцию каталога карточек, остальное перенесено в проект профиля.

Проект **host** - основной проект, главная страница, точка входа в приложение фронтенда.

```sh
/host
  /src
    /components
      App.jsx                // Компонент главной страницы
      Header.js              // Компонент заголовка с информацией о текущем email и логотипом
      Footer.js              // Компонент подвал
      ProtectedRoute.js      // Компонент-гвард с защитой роута
    /styles                  // Стили
      /header
        header.css
      /footer
        footer.css
      /content
        content.css
      /page
        page.css
    /images                  // Иконки                
    index.js                 // Точка входа микрофронтенда
  package.json               // Зависимости и скрипты микрофронтенда
  webpack.config.js          // Конфигурация сборки
```

Особенностью реализации является перенос логики в микрофронтендовые проекты и получение их по технологии Lazy loading динамического импорта ( например, lazy(() => import('auth/Register'). Контекст приложения, в котором изначально передавались данные пользователя во все компоненты заменен на технологию передачи через колбэки и пользовательские события CustomEvent. Основной функционал приложения - маршрутизация и взаимодействие между проектами микрофронендов.

# Задание2.  Веб-приложения на Django

В рамках этого задания нужно декомпозировать веб-приложения на Django на микросервисы.

https://drive.google.com/file/d/1uMP7lT0sNgRakVlh0cRk4DrcfA1OyjaN/view?usp=sharing